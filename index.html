<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>مطعم ريدان للمندي</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@500;700&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Tajawal', sans-serif;
    }

    body {
      background: #f9f9f9; 
      color: #333;
    }

    header {
      background: linear-gradient(135deg, #d9534f, #e67e22);
      color: white;
      text-align: center;
      padding: 40px 20px;
    }

    header h1 {
      font-size: 3rem;
      margin-bottom: 10px;
    }

    nav {
      background: #fff;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      padding: 15px;
      text-align: center;
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    nav a {
      color: #d9534f;
      margin: 0 15px;
      text-decoration: none;
      font-weight: bold;
    }

    .lang-switch {
      float: left;
      margin-left: 20px;
    }

    .container {
      max-width: 1200px;
      margin: auto;
      padding: 40px 20px;
    }

    .branch-select {
      text-align: center;
      margin-bottom: 30px;
    }

    .branch-select select {
      padding: 10px;
      font-size: 16px;
      width: 300px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    .categories {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 30px;
    }

    .category-btn {
      padding: 10px 20px;
      background: #eee;
      border: none;
      cursor: pointer;
      border-radius: 5px;
      font-weight: bold;
    }

    .category-btn.active {
      background: #d9534f;
      color: white;
    }

    .products {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
    }

    .product-card {
      background: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      transition: transform 0.3s;
    }

    .product-card:hover {
      transform: translateY(-5px);
    }

    .product-card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
    }

    .product-info {
      padding: 20px;
    }

    .product-info h3 {
      color: #d9534f;
      margin-bottom: 10px;
    }

    .product-info p {
      font-size: 0.9rem;
      margin-bottom: 10px;
    }

    .product-info .price {
      font-weight: bold;
    }

    .add-to-cart {
      background: #28a745;
      color: white;
      border: none;
      padding: 10px;
      cursor: pointer;
      border-radius: 5px;
      width: 100%;
    }

    .add-to-cart:hover {
      background: #218838;
    }

    .cart {
      background: #fff8f0;
      padding: 20px;
      border-radius: 10px;
      margin-top: 40px;
    }

    .cart h2 {
      color: #d9534f;
      margin-bottom: 20px;
    }

    .cart-items {
      max-height: 300px;
      overflow-y: auto;
    }

    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 0;
      border-bottom: 1x solid #eee;
    }

    .cart-item:last-child {
      border-bottom: none;
    }

    .item-name {
      flex: 1;
    }

    .item-price {
      font-weight: bold;
      margin-left: 10px;
    }

    .item-qty {
      margin-right: 10px;
    }

    .remove-btn {
      color: red;
      cursor: pointer;
    }

    .total-section {
      margin-top: 20px;
      padding: 15px;
      background: #fff3cd;
      border-radius: 5px;
      text-align: right;
    }

    .total-section strong {
      color: #d9534f;
    }

    .checkout-btn {
      background: #d9534f;
      color: white;
      border: none;
      padding: 15px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 5px;
      width: 100%;
      margin-top: 20px;
    }

    .checkout-btn:hover {
      background: #c9302c;
    }

    footer {
      background: #222;
      color: white;
      text-align: center;
      padding: 20px;
      margin-top: 40px;
    }
  </style>
</head>
<body>

<!-- Header -->
<header>
  <button class="lang-switch" onclick="toggleLang()">عربي/English</button>
  <h1>مطعم ريدان للمندي</h1>
  <p id="tagline">أفضل مندي في الإمارات العربية المتحدة</p>
</header>

<!-- Navigation -->
<nav>
  <a href="#products">القائمة</a>
  <a href="#cart">سلة المشتريات</a>
</nav>

<!-- Main Container -->
<div class="container">

  <!-- Branch Selection -->
  <div class="branch-select">
    <label for="branchSelect">اختر الفرع:</label>
    <select id="branchSelect">
      <option value="ridan">مطعم ريدان - دبي</option>
      <option value="wadi">وادي ريدان - الشارقة</option>
    </select>
  </div>

  <!-- Categories -->
  <div class="categories">
    <button class="category-btn active" data-category="all">كل الأصناف</button>
    <button class="category-btn" data-category="chicken">دجاج</button>
    <button class="category-btn" data-category="meat">لحم</button>
    <button class="category-btn" data-category="salads">سلطات</button>
    <button class="category-btn" data-category="desserts">حلويات</button>
    <button class="category-btn" data-category="drinks">مشروبات</button>
    <button class="category-btn" data-category="sheep">ذبائح</button>
  </div>

  <!-- Products Section -->
  <section id="products">
    <h2 style="text-align:center; margin-bottom: 30px;" id="menuTitle">قائمة الطعام</h2>
    <div class="products" id="productList"></div>
  </section>

  <!-- Cart Section -->
  <section id="cart" class="cart">
    <h2 id="cartTitle">سلة المشتريات</h2>
    <div class="cart-items" id="cartItems"></div>
    <div class="total-section">
      <p id="subtotalText">المجموع قبل التوصيل: <span id="subtotal">0</span> درهم</p>
      <p id="deliveryText">رسوم التوصيل: 8 درهم</p>
      <p><strong id="totalText">الإجمالي النهائي:</strong> <span id="finalTotal">8</span> درهم</p>
    </div>
    <button class="checkout-btn" onclick="sendOrder()" id="checkoutBtn">إرسال الطلب على الواتساب</button>
  </section>

</div>

<!-- Footer -->
<footer>
  &copy; 2025 مطعم ريدان للمندي | جميع الحقوق محفوظة
</footer>

<script>
  const cart = [];
  const branchNumbers = {
    ridan: "971588155123",
    wadi: "971565910681"
  };

  const products = [
    // دجاج
    { category: 'chicken', name: 'مندي دجاج', price: 30 },
    { category: 'chicken', name: 'مظبي دجاج', price: 33 },
    { category: 'chicken', name: 'مدفون دجاج', price: 33 },
    { category: 'chicken', name: 'محمر دجاج', price: 33 },
    { category: 'chicken', name: 'عوكه دجاج', price: 40 },
    { category: 'chicken', name: 'مخمود دجاج', price: 33 },
    { category: 'chicken', name: 'كبسه دجاج', price: 35 },
    { category: 'chicken', name: 'حنيذ دجاج', price: 35 },

    // لحم
    { category: 'meat', name: 'مندي لحم', price: 55 },
    { category: 'meat', name: 'مظبي لحم', price: 60 },
    { category: 'meat', name: 'مدفون لحم', price: 60 },
    { category: 'meat', name: 'كبسه لحم', price: 60 },
    { category: 'meat', name: 'حنيذ كتف', price: 75 },
    { category: 'meat', name: 'حنيذ جنب', price: 75 },
    { category: 'meat', name: 'عوكه لحم', price: 55 },

    // سلطات
    { category: 'salads', name: 'فتوش', price: 15 },
    { category: 'salads', name: 'تبولة', price: 15 },
    { category: 'salads', name: 'سلطة جرجير', price: 15 },
    { category: 'salads', name: 'روب خيار', price: 15 },

    // حلويات
    { category: 'desserts', name: 'كنافة قشطة', price: 15 },
    { category: 'desserts', name: 'كنافة جبن', price: 15 },
    { category: 'desserts', name: 'كنافة شوكولاتة', price: 16 },
    { category: 'desserts', name: 'معصوب ملكي', price: 27 },
    { category: 'desserts', name: 'عريكة', price: 30 },
    { category: 'desserts', name: 'فته تمر', price: 16 },
    { category: 'desserts', name: 'فته مكس', price: 16 },

    // مشروبات
    { category: 'drinks', name: 'ماء صغير', price: 3 },
    { category: 'drinks', name: 'ماء كبير', price: 4 },
    { category: 'drinks', name: 'بيبسي', price: 4 },
    { category: 'drinks', name: 'سفن أب', price: 4 },
    { category: 'drinks', name: 'ديو', price: 4 },
    { category: 'drinks', name: 'ميرندا', price: 4 },

    // ذبائح
    { category: 'sheep', name: 'ذبيحة مندي', price: 800, extraPlate: 26 },
    { category: 'sheep', name: 'ذبيحة مظبي', price: 800, extraPlate: 26 },
    { category: 'sheep', name: 'ذبيحة حنيذ', price: 900, extraPlate: 26 },
  ];

  function renderProducts(category = 'all') {
    const list = document.getElementById("productList");
    list.innerHTML = "";
    products.filter(p => category === 'all' || p.category === category).forEach((prod, i) => {
      const imageId = i + 1;
      const card = document.createElement("div");
      card.className = "product-card";
      card.innerHTML = `
        <img src="https://picsum.photos/id/${imageId}/600/400"  alt="${prod.name}">
        <div class="product-info">
          <h3>${prod.name}</h3>
          <p>${prod.price} درهم</p>
          ${prod.extraPlate ? `<input type="number" id="plates-${i}" placeholder="عدد الصينيات الإضافية" min="0" max="4" value="0"><br>` : ''}
          <button class="add-to-cart" onclick="addToCart('${prod.name}', ${prod.price}, ${prod.extraPlate || 0}, ${prod.extraPlate ? i : -1})">إضافة إلى السلة</button>
        </div>
      `;
      list.appendChild(card);
    });
  }

  function addToCart(name, basePrice, extraPrice = 0, plateIndex = -1) {
    let qty = 1;
    let extraQty = 0;
    if (plateIndex >= 0) {
      extraQty = parseInt(document.getElementById(`plates-${plateIndex}`).value) || 0;
    }
    const totalPrice = basePrice + (extraPrice * extraQty);
    cart.push({ name, price: totalPrice, qty });
    updateCart();
  }

  function updateCart() {
    const cartItemsDiv = document.getElementById("cartItems");
    cartItemsDiv.innerHTML = "";
    let subtotal = 0;

    cart.forEach((item, index) => {
      subtotal += item.price * item.qty;
      const div = document.createElement("div");
      div.className = "cart-item";
      div.innerHTML = `
        <span class="item-name">${item.name}</span>
        <span class="item-qty">×${item.qty}</span>
        <span class="item-price">${item.price} درهم</span>
        <span class="remove-btn" onclick="removeItem(${index})">✖️</span>
      `;
      cartItemsDiv.appendChild(div);
    });

    const delivery = 8;
    const total = subtotal + delivery;

    document.getElementById("subtotal").textContent = subtotal.toFixed(2);
    document.getElementById("finalTotal").textContent = total.toFixed(2);
  }

  function removeItem(index) {
    cart.splice(index, 1);
    updateCart();
  }

  function sendOrder() {
    const branch = document.getElementById("branchSelect").value;
    const whatsappNumber = branchNumbers[branch];

    let order = `فرع: ${branch === 'ridan' ? 'مطعم ريدان - دبي' : 'وادي ريدان - الشارقة'}\n`;
    order += `الطلب:\n`;

    cart.forEach(item => {
      order += `- ${item.name} × ${item.qty} (${item.price} درهم)\n`;
    });

    order += `\nالمجموع: ${document.getElementById("finalTotal").textContent} درهم\n`;
    order += `\nشكراً لطلبك من ريدان للمندي!`;

    const url = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(order)}`;
    window.open(url, '_blank');
  }

  document.querySelectorAll(".category-btn").forEach(btn => {
    btn.addEventListener("click", e => {
      document.querySelectorAll(".category-btn").forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
      renderProducts(btn.getAttribute("data-category"));
    });
  });

  function toggleLang() {
    const ar = document.documentElement.getAttribute("dir") === "rtl";
    document.documentElement.setAttribute("dir", ar ? "ltr" : "rtl");

    document.getElementById("tagline").textContent = ar ? "Best Mandi in UAE" : "أفضل مندي في الإمارات";
    document.getElementById("menuTitle").textContent = ar ? "Menu" : "قائمة الطعام";
    document.getElementById("cartTitle").textContent = ar ? "Shopping Cart" : "سلة المشتريات";
    document.getElementById("subtotalText").innerHTML = ar ? "Subtotal: <span id='subtotal'>0</span> AED" : "المجموع قبل التوصيل: <span id='subtotal'>0</span> درهم";
    document.getElementById("deliveryText").textContent = ar ? "Delivery Fee: 8 AED" : "رسوم التوصيل: 8 درهم";
    document.getElementById("totalText").textContent = ar ? "Final Total:" : "الإجمالي النهائي:";
    document.getElementById("checkoutBtn").textContent = ar ? "Send Order on WhatsApp" : "إرسال الطلب على الواتساب";
  }

  // Initial render
  renderProducts();
</script>

</body>
</html>